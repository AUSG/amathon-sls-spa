# ðŸ”§Amathon Pre-workshopðŸ”§: SPA Deployment using Serverless FrameworkðŸš€

AUSGê°€ ì•¼ì‹¬ì°¨ê²Œ ì¤€ë¹„í•œ Amathonì— ì°¸ê°€ ì‹ ì²­í•´ì£¼ì‹  ì—¬ëŸ¬ë¶„, ì§„ì‹¬ìœ¼ë¡œ í™˜ì˜í•©ë‹ˆë‹¤.ðŸ˜„ ì˜¤ëŠ˜ ì§„í–‰ í•  ì‹¤ìŠµ ì›Œí¬ìƒµì€ ì•„ë§ˆí†¤ì„ ì§„í–‰í•˜ê¸°ì— *ì•žì„œ* ì§„í–‰ë˜ëŠ” ì›Œí¬ìƒµìž…ë‹ˆë‹¤. í¬ê²Œ ê¹Šì€ ë‚´ìš©ì€ ì•„ë‹ˆì§€ë§Œ, í–‰ì‚¬ ë³¸ëž˜ ì·¨ì§€ì— ë§žê²Œ ì´ˆë³´ìž ë¶„ë“¤ë„ AWSì— ëŒ€í•œ ì´í•´ë¥¼ ì¡°ê¸ˆ ë” ê°€ì ¸ê°€ì…¨ìœ¼ë©´ í•˜ëŠ” ë§ˆìŒìœ¼ë¡œ ì¤€ë¹„í–ˆìŠµë‹ˆë‹¤. ðŸ˜ŒðŸ˜ŒðŸ˜Œ



### ë³¸ ì›Œí¬ìƒµì˜ í•™ìŠµ ëª©í‘œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤

- IAMë¥¼ ì´í•´í•œë‹¤

- S3, Lambda, API Gatewayë¥¼ ì´í•´í•œë‹¤.

- [Serverless Framework](https://serverless.com)ì„ ì´ìš©í•´ IaC(Insfrastructure as Code)ë¥¼ ì²´í—˜í•´ë³¸ë‹¤.

- ì™„ì„±ëœ [Vue.js](https://vuejs.org) Applicationì„ ê°„ë‹¨ížˆ ë°°í¬í•´ë³¸ë‹¤.

  > [ì°¸ê³ ] ë³¸ ì›Œí¬ìƒµì—ì„œëŠ” SPA(Single Page Application)ë¡œì¨ Vue.jsë¥¼ ì˜ˆë¥¼ ë“¤ì–´ ì‹¤ìŠµì„ ì§„í–‰í•©ë‹ˆë‹¤. React í™˜ê²½ì—ì„œë„ ëª‡ê°€ì§€ ì„¤ì •ì„ í†µí•˜ë©´ ë™ì¼í•œ ì•„í‚¤í…ì³ë¡œ ë°°í¬ ê°€ëŠ¥í•©ë‹ˆë‹¤.



# í•„ìˆ˜ ì¤€ë¹„ ì‚¬í•­

### 0. ë³¸ Github Repositoryë¥¼ Download í•´ì£¼ì„¸ìš”!

ì¤‘ê°„ì¤‘ê°„ ì‹¤ìŠµ íŒŒì¼ë“¤ì´ ì—…ë¡œë“œ ë˜ì–´ìžˆìŠµë‹ˆë‹¤. ì›Œí¬ìƒµ ì‹œìž‘ ì „ ë¯¸ë¦¬ ë‹¤ìš´ ë°›ì•„ì£¼ì„¸ìš”!Â [ë‹¤ìš´ë¡œë“œ](https://github.com/witherion/amathon-sls-spa/archive/master.zip)

### 1. PC ë˜ëŠ” Mac

ë³¸ ì›Œí¬ìƒµì€ ì½”ë”© ê³¼ì •ì´ í¬í•¨ë˜ì–´ ìžˆìŠµë‹ˆë‹¤. ë˜í•œ CLI(Command Line Interface) ì¡°ìž‘ì´ ê¼­ í•„ìš”í•©ë‹ˆë‹¤. ëª¨ë°”ì¼ í™˜ê²½(iPhone, iPad, Android)ì—ì„œëŠ” ì§„í–‰ì´ ë¶ˆê°€ëŠ¥í•˜ë‹ˆ ê¼­ PC/Mac í™˜ê²½ì—ì„œ ì§„í–‰í•˜ì„¸ìš”.

> [ì°¸ê³ ] ë³¸ ì‹¤ìŠµ ì›Œí¬ìƒµì€ UNIX í™˜ê²½ì„ ì „ì œë¡œ í•˜ê³  ìžˆìŠµë‹ˆë‹¤. Windows ì‚¬ìš©ìžê»˜ì„œëŠ” ì‹¤ìŠµ ì „ Linuxë¥¼ ì„¤ì¹˜í•˜ì‹œê±°ë‚˜ Cloud9ë“± Virtual Workspace ì´ìš©ì„ ê¶Œìž¥ ë“œë¦½ë‹ˆë‹¤.

### 2. AWS ê³„ì •

- AWS ê³„ì • ë§Œë“¤ê¸° [ì´ë™](https://aws.amazon.com/ko/)

ë³¸ ê°€ì´ë“œëŠ” í•œëª…ì´ í•˜ë‚˜ì˜ AWS ê³„ì •ì„ ì‚¬ìš©í•œë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤. AWS IAM, S3, API Gateway, Lambdaì— ì ‘ê·¼í•  ìˆ˜ ìžˆì–´ì•¼ í•˜ë©°, ë‹¤ë¥¸ ì‚¬ëžŒê³¼ ê³„ì •ì„ ê³µìœ í•˜ê²Œë˜ë©´ íŠ¹ì • ë¦¬ì†ŒìŠ¤ì— ëŒ€í•´ ì¶©ëŒì´ ë°œìƒí•˜ë¯€ë¡œ ê¶Œìž¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ë³¸ ì›Œí¬ìƒµì˜ ì¼í™˜ìœ¼ë¡œ ì‹œìž‘í•˜ëŠ” ëª¨ë“  ë¦¬ì†ŒìŠ¤ëŠ” AWS ê³„ì •ì´ 12ê°œì›” ë¯¸ë§Œì¸ ê²½ìš°, ì œê³µí•˜ëŠ” AWS í”„ë¦¬í‹°ì–´ë¥¼ í†µí•´ ì¶©ë¶„ížˆ ë¬´ë£Œ ë²”ìœ„ ë‚´ì—ì„œ ì‹¤ìŠµ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë§Œì•½ í”„ë¦¬í‹°ì–´ë¥¼ ë„˜ì–´ì„œëŠ” ê²½ìš°, ê³¼ê¸ˆ ë  ìˆ˜ë„ ìžˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, ìƒˆë¡œìš´ ì‹¤ìŠµìš© ê³„ì •ì„ ë§Œë“œì‹œê¸¸ ê¶Œìž¥í•©ë‹ˆë‹¤. ìžì„¸í•œ ë‚´ìš©ì€ [AWS í”„ë¦¬ í‹°ì–´ íŽ˜ì´ì§€](https://aws.amazon.com/free/)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

### 3. ì›¹ ë¸Œë¼ìš°ì €

- Chrome ìµœì‹  ë²„ì „ [ë‹¤ìš´ë¡œë“œ](https://www.google.com/chrome/)
- Firefox ìµœì‹  ë²„ì „ [ë‹¤ìš´ë¡œë“œ](https://www.mozilla.org/ko/firefox/new/)

ë³¸ ì‹¤ìŠµ ì›Œí¬ìƒµì€ ì›¹ ê¸°ë°˜ìž…ë‹ˆë‹¤. ë‘˜ ì¤‘ ì›í•˜ì‹œëŠ” ë¸Œë¼ìš°ì €ë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”. 

> Internet ExplorerëŠ” AWS Web Consoleì—ì„œ ë¬¸ì œê°€ ë°œìƒ í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

### 4. í…ìŠ¤íŠ¸ ì—ë””í„°

- VS Code [ë‹¤ìš´ë¡œë“œ](https://code.visualstudio.com/)
- Atom [ë‹¤ìš´ë¡œë“œ](https://atom.io/)

ë³¸ ì‹¤ìŠµ ì›Œí¬ìƒµì€ ì‹¤ì œ ì½”ë”©ì´ í¬í•¨ë©ë‹ˆë‹¤. í…ìŠ¤íŠ¸ ì—ë””í„°ë¥¼ ì•„ì§ ì„¤ì¹˜í•˜ì§€ ì•Šìœ¼ì…¨ë‹¤ë©´ ìœ„ì˜ ë‘ ì—ë””í„° ì¤‘ í•˜ë‚˜ë¥¼ ê¼­ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.

### 5. Node.js

- Node.js 8 [ë‹¤ìš´ë¡œë“œ](https://nodejs.org/en/)

[npm](https://www.npmjs.com/)ì„ ì‚¬ìš©í•˜ì‹œë ¤ë©´ ë°˜ë“œì‹œ ì„¤ì¹˜í•˜ì…”ì•¼í•©ë‹ˆë‹¤. AWS LambdaëŠ” Node.js 8 ë²„ì „ì„ ê¸°ë°˜ìœ¼ë¡œ ìš´ì˜ë˜ë¯€ë¡œ, ê°œë°œê³¼ ìš´ì˜ í™˜ê²½ì„ í†µì¼í•˜ê¸° ìœ„í•´ ê¼­ 8 ë²„ì „ì„ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.

> ì—¬ëŸ¬ ë²„ì „ì„ ì‰½ê²Œ ê´€ë¦¬í•˜ê³  ì‹¶ìœ¼ì‹œë‹¤ë©´ [nvm](https://github.com/creationix/nvm)(Node Version Manager)ì„ ì´ìš©í•´ë³´ì„¸ìš”

### 6. AWS CLI

- AWS CLI [ë‹¤ìš´ë¡œë“œ](https://aws.amazon.com/ko/cli/?sc_channel=PS&sc_campaign=acquisition_KR&sc_publisher=google&sc_medium=english_command_line_b&sc_content=aws_cli_e&sc_detail=aws%20cli&sc_category=command_line&sc_segment=161196943574&sc_matchtype=e&sc_country=KR&s_kwcid=AL!4422!3!161196943574!e!!g!!aws%20cli&ef_id=Wz9CBAAAAMmM8BCq:20180716200535:s)
- Python [ë‹¤ìš´ë¡œë“œ](https://www.python.org/downloads/)

AWS IAM ì •ë³´ë¥¼ ë¡œì»¬ ì»´í“¨í„°ì— ë‹´ê¸° ìœ„í•´ì„œ ë°˜ë“œì‹œ AWS CLI ì„¤ì¹˜ê°€ í•„ìš”í•©ë‹ˆë‹¤. AWS CLIëŠ” Python ëŸ°íƒ€ìž„ì„ ë°˜ë“œì‹œ í•„ìš”ë¡œ í•˜ë©° ì„¤ì¹˜ëŠ” Pythonì˜ ì˜ì¡´ì„± ê´€ë¦¬ íˆ´ì¸ `pip` ë¥¼ í†µí•´ ì§„í–‰ë©ë‹ˆë‹¤.

```bash
$ pip install awscli
# ë˜ëŠ”
$ pip3 install awscli
```



# ì „ì²´ì ì¸ êµ¬ì¡°

ë‹¨ìˆœížˆ ì‹¤ìŠµìœ¼ë¡œ ëë‚˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì–´ë–¤ ì›¹ í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ì—ì„œë„ ì‚¬ìš© í•  ìˆ˜ ìžˆë„ë¡ General í•œ êµ¬ì¡°ë¡œ ì§œë†“ì•˜ìŠµë‹ˆë‹¤.

> Assetsë¥¼ Redirecting í•˜ëŠ” ë¶€ë¶„ì—ì„œ API Gatewayì™€ Lambda ìžì›ì´ ë‚­ë¹„ë˜ëŠ” ê²½í–¥ì´ ìžˆìŠµë‹ˆë‹¤. ì´ëŠ” ë³¸ ì‹¤ìŠµ ì›Œí¬ìƒµì—ì„œ Application ë¹Œë“œì‹œ Assets ê´€ë ¨í•œ ì„¤ì •ì„ ìµœì†Œí™”í•˜ê¸° ìœ„í•¨ì´ë©°, ì‹¤ì œ Production ë°°í¬ ì‹œì—ëŠ” Assets ì£¼ì†Œë¥¼ ì½”ë“œ ë‚´ì— ì‚½ìž…í•˜ë©´ ë‚­ë¹„ë˜ëŠ” ìžì›ì„ ìµœì†Œí™” í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

![architecture](./images/architecture.jpeg)

# ìž ê·¸ëŸ¼ ì´ì œ ì‹œìž‘í•´ë³¼ê¹Œìš”?

1. [IAMì—ì„œ ìœ ì € ìƒì„±í•˜ê¸°](./1_iam/README.md)
2. [ìƒˆë¡œìš´ Vue.js ì•± ìƒì„±í•˜ê¸°](./2_vue/README.md)
3. [Serverless Framework ì´ìš©í•´ ë°°í¬í•˜ê¸°](./3_sls/README.md)
4. [ì‚­ì œ ê°€ì´ë“œ](./4_delete/README.md)



![Erion Company](./images/erion_company_logo.svg)

> ë³¸ ì‹¤ìŠµ ì›Œí¬ìƒµ ê°€ì´ë“œ ë¬¸ì„œëŠ” [Erion Company](https://erion.kr)ì—ì„œ ì œê³µí•©ë‹ˆë‹¤.
>
> *Real-time Lecture and Blog Platform, Erion*

